
<!DOCTYPE html>
<html lang="de">
<head>
    <title>Construcciones fiables   </title>
    <meta name="rating" content="General"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700,800' rel='stylesheet' type='text/css'>
	<link href="style-calc.css" media="all" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="styles.css">

    
    <script type="text/javascript">

        function blazy() {
            var bLazy = new Blazy({
                selector: '.lld', // all images
                success: function(ele) {
                    // Image has loaded
                    $('.lld').addClass('lld-loaded');
                    console.log('i');
                    
                    var $this = $(ele);
                    if ($this.width()/$this.height()>1.57) {
                        $this.addClass("ihorizontal");
                    }
                    else
                        $this.addClass("ivertical");
                }
            });
        }

        $(document).ready(function() {
            //init images
            blazy();
        });
    </script>

    
    
    </head><body>

		<!--end customers menu-->


		

		<p><img class="imgperforacion" alt="Logo Construcciones Fiables. construcciones Marbella. Reforma Malaga" src="1-0.jpeg" /></p>


<input type="hidden" name="currentCategory" id="currentCategory" value="199">

<style type="text/css">
	body { /*background-color:rgb(243, 244, 244);*/ background-color: white; }
	.stick5 { background-color:transparent;}

	 /* .search-pad { display: block;} */ </style>


<script type="text/javascript">
	function openSearch() {
	$('.search-pad').slideToggle();
	$('.searchterm2').focus();
}
</script>

<style type="text/css">
	#search-button2 { display: none !important; }
	.custom-select { display: none !important; }
	.searchWhat, .srwrp2 { width: 100%; max-width: 100% !important;}
	.stip { display: none !important; }
	#searchterm { min-height:50px;font-size: 1.1rem !important; }
</style>





<div class="container">
    <div class="table" style="margin-top: 0px;padding-top:15px;margin-left: 5%;margin-right: 5%;width: 90%;margin-bottom: 12%;	">

        <div class="row" style="background-color:#f6f7f8;display: none !important;">
            <div class="a"></div>
            <div class="d"><p>Ihre Menge</p></div>
            <div class="c2"><p>Einheit</p></div>
            <div class="c"><p> Richtpreis </p></div>
            <div class="c2"></div>
            <div class="c"><p>Ihr Preis</p></div>
            <div class="e"></div>
            <div class="calc-logo"></div>
        </div>
        
     
        <div style="width:100%;float: left;clear: both;border-bottom:1px solid #e5e5e5;background-color: white;">
        <div class="row rowleft fullstrechmobile" style="width: 100%;" id="itemrow-0-76">
            <input type="hidden" value="199" name="search" id="search-0-76"/>
            
            <div class="a"><input type="checkbox" style="display:block !important;" id="checkbox-0-76"></div>
            <div class="b">
            <input type="hidden" value="" id="line-0-76">
            <input type="hidden" value="0" id="subitem-0-76">
    
            <h2 style="color:black;font-size:1rem;font-weight:700;text-align:left;padding-top:9px;padding-left:10px;margin-top:0px;line-height:normal !important;margin-left: -20px;">perforacion !</h2><p style="color:gray;">		
            <p class="fullstrechmobile" style="color:gray;width:50%;padding-top:5px;padding-bottom:0px;"></p>
            
        
    
        
        
        <div class="row2 rowright fullstrechmobile mobilezerotop" style="float:left;width:100%;padding-top:0px;display:none !important;">
            
    
            <div class="calc-cell" style="margin-right:0px;"><input type="text" class="quantity" name="price-0-76" id="price-0-76" readonly /><br />
                &euro;</div>
    
            <div class="calc-cell">
				<input style="display:none;" type="text" class="price" name="ppunit-0-76" id="ppunit-0-76" value="0" onkeyup="calculateLine(0,76);"/>
                    <input value="1.8-8">
            <br />
            &euro;/cm<input style="width:auto !important;" type="hidden" id="unit-0-76" value="cm" />
            </div>
            
            <div class="d calc-cell" style="margin-right: 7px;"><input type="text" class="quantity" inputmode="decimal" name="amount-0-76" id="amount-0-76" onkeyup="calculateLine(0,76);"/><br />
            </div>
        </div>
    
    
        <!--subitems-->
            <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> <label for="checkbox-0-935" style="margin-left: -10px;">diametro 5 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-935"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-935"></div>
                    
                <input type="hidden" value="" id="line-0-935">
                <input type="hidden" value="76" id="subitem-0-935">
    
                <div class="calc-cell" style="width: 15%;">
			
					<input style="width: 100%;" type="text" class="quantity" name="price-0-935" id="price-0-935" readonly />
                    
				</div>
    
                <div class=" calc-cell " style="width: 25%;">
					<input type="text" style="width: 50%;display: none;" class="price" name="ppunit-0-935" id="ppunit-0-935" value="1.50" onkeyup="calculateLine(0,935);">
                        <input value="1-2 &euro;/cm" style="width: 120%;" readonly>
                    
                </div>
                
                <div id="pepe" class="d calc-cell">
                <input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-935" id="amount-0-935" onkeyup="calculateLine(0,935);"  style="width:80%;"><br />
                </div>
    
    
    
    
            </div>
            
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> <label for="checkbox-0-932" style="margin-left: -10px;">diametro 10 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-932"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-932"></div>
                    
                <input type="hidden" value="" id="line-0-932">
                <input type="hidden" value="76" id="subitem-0-932">
    
                <div class="calc-cell" style="width: 15%;">
					<input type="text" style="width: 100%;" class="quantity" name="price-0-932" id="price-0-932" readonly /><br />
                    </div>
    
                <div class=" calc-cell " style="width: 25%;">
                    <input type="text" style="width: 50%;display: none;" class="price" name="ppunit-0-932" id="ppunit-0-932" value="2.00" onkeyup="calculateLine(0,932);">
                                    <input value="2-3 &euro;/cm"  style="width: 120%;" readonly>
                
            
                  <input style="width:auto !important;" type="hidden" id="unit-0-932" value="cm" />
                </div>
                
                <div class="d calc-cell" >
					<input placeholder="cm" type="text" class="quantity" inputmode="decimal" name="amount-0-932" id="amount-0-932" onkeyup="calculateLine(0,932);" style="width: 80%;"><br />
                </div>
    
    
    
    
            </div>
            
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> 
					<label for="checkbox-0-933" style="margin-left: -10px;">diametro 20 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-933"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;position:absolute; left:9999px;" type="checkbox" id="checkbox-0-933"></div>
                    
                <input type="hidden" value="" id="line-0-933">
                <input type="hidden" value="76" id="subitem-0-933">
    
                <div class="calc-cell" style="width: 15%;">
					<input style="width: 100%;" type="text" class="quantity" name="price-0-933" id="price-0-933" readonly /><br />
                    </div>
    
                <div class=" calc-cell" style="width: 25%;">
                    <input style="width: 50%;display: none;"  type="text" class="price" name="ppunit-0-933" id="ppunit-0-933" value="4.00" onkeyup="calculateLine(0,933);">
                                    <input value="4-5 &euro;/cm" style="width: 120%;" readonly>
                   
                    <input style="width:auto !important;" type="hidden" id="unit-0-933" value="cm" />
                </div>
                
                <div class="d calc-cell" >
					<input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-933" id="amount-0-933" onkeyup="calculateLine(0,933);" style="width: 80%;"><br />
                </div>
    
    
    
    
            </div>
            
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> <label for="checkbox-0-934" style="margin-left: -10px;">diametro 40 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-934"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-934"></div>
                    
                <input type="hidden" value="" id="line-0-934">
                <input type="hidden" value="76" id="subitem-0-934">
    
                <div class="calc-cell" style="width: 15%;">
					<input style="width: 100%;" type="text" class="quantity" name="price-0-934" id="price-0-934" readonly /><br />
                    </div>
    
                <div class=" calc-cell " style="width: 25%;">
                    <input style="width: 50%;display: none;"  type="text" class="price" name="ppunit-0-934" id="ppunit-0-934" value="10.00" onkeyup="calculateLine(0,934);">
                                    <input value="8-12 &euro;/cm" style="width: 120%;" readonly>
                   
                    <input style="width:auto !important;" type="hidden" id="unit-0-934" value="cm" />
                </div>
                
                <div class="d calc-cell">
					<input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-934" id="amount-0-934" onkeyup="calculateLine(0,934);" style="width:80%;"><br />
                </div>
    
    
    
    
            </div>
            
        
        </div>
        </div>
        </div>
        
         
        <div style="width:100%;float: left;clear: both;border-bottom:1px solid #e5e5e5;background-color: white;">
        <div class="row rowleft fullstrechmobile" style="width: 100%;" id="itemrow-0-883">
            <input type="hidden" value="199" name="search" id="search-0-883"/>
            
            <div class="a"><input type="checkbox" style="opacity: 0;display:block !important;" id="checkbox-0-883"></div>
            <div class="b">
            <input type="hidden" value="Betonschnitte werden benötigt bei Dehnfugen, Abtrennungen von Decken und Wänden, bei Verlegung von Leitungen in Böden, bei Schneiden von Betonflächen und Asphaltböden usw." id="line-0-883">
            <input type="hidden" value="0" id="subitem-0-883">
    
            <h2 style="color:black;font-size:1rem;font-weight:700;text-align:left;padding-top:9px;padding-left:10px;margin-top:0px;line-height:normal !important;margin-left: -20px;">Corte de hormigon</h2><p style="color:gray;">		
    
            
        
    
        
        
        <div class="row2 rowright fullstrechmobile mobilezerotop" style="float:left;width:100%;padding-top:0px;display:none !important;">
            
    
            <div class="calc-cell" style="margin-right:0px;"><input type="text" class="quantity" name="price-0-883" id="price-0-883" readonly /><br />
                &euro;</div>
    
            <div class="calc-cell"><input style="display:none;" type="text" class="price" name="ppunit-0-883" id="ppunit-0-883" value="0" onkeyup="calculateLine(0,883);"/>
                    <input value="200-500">
            <br />
            &euro;/m2<input style="width:auto !important;" type="hidden" id="unit-0-883" value="m2" />
            </div>
            
            <div class="d calc-cell" style="margin-right: 7px;"><input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-883" id="amount-0-883" onkeyup="calculateLine(0,883);"/><br />
            m2</div>
        </div>
    
    
        <!--subitems-->
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> <label for="checkbox-0-922" style="margin-left: -10px;">hondo 10 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-922"/>
                <div class="a" style="margin-left: -40px;">
					<input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-922"></div>
                    
                <input type="hidden" value="" id="line-0-922">
                <input type="hidden" value="883" id="subitem-0-922">
    
                <div class="calc-cell" style="width: 15%;">
					<input type="text" style="width:100%;"  class="quantity" name="price-0-922"  id="price-0-922" readonly /><br />
                  </div>
    
                <div class="supercell calc-cell " style="width: 25%;">
                    <input style="width: 100%;display: none;" type="text" class="price" name="ppunit-0-922" id="ppunit-0-922" value="40.00" onkeyup="calculateLine(0,922);">
                                    <input value="35-45 &euro;/cm" style="width: 120%;" readonly>
                    <input style="width:auto !important;" type="hidden" id="unit-0-922" value="lm" />
                </div>
                
                <div  class="d calc-cell" style="margin-right: 15px;"><input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-922" id="amount-0-922" onkeyup="calculateLine(0,922)" style="width: 80%;"><br/>
                </div>
    
    
    
    
            </div>
            
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;margin-bottom: 6%;"> <label for="checkbox-0-923" style="margin-left: -10px;">hondo 40 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-923"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-923"></div>
                    
                <input type="hidden" value="" id="line-0-923">
                <input type="hidden" value="883" id="subitem-0-923">
    
                <div class="calc-cell" style="width: 15%;">
					<input type="text" style="width:100%;" class="quantity" name="price-0-923" id="price-0-923" readonly /><br />
                    </div>
    
                <div class="supercell calc-cell " style="width: 25%;">
                    <input t style="width: 100%;display: none;" ype="text" class="price" name="ppunit-0-923" id="ppunit-0-923" value="150.00" onkeyup="calculateLine(0,923);">
                                    <input value="120-180 &euro;/cm" style="width: 120%;" readonly>
                                    
                    <input style="width:auto !important;" type="hidden" id="unit-0-923" value="lm" />
                </div>
                <div class="d calc-cell" style="margin-right: 15px;">
					<input type="text" class="quantity" placeholder="cm" inputmode="decimal" name="amount-0-923" id="amount-0-923" onkeyup="calculateLine(0,923);" style="width: 80%;"><br />
                </div>
            </div>
            
                <div style="width: 100%;float: left;text-align: left;padding-left:2px;"> <label for="checkbox-0-924" style="margin-left: -10px;">hondo 60 cm</label>
    
                <input type="hidden" value="199" name="search" id="search-0-924"/>
                <div class="a" style="margin-left: -40px;"><input style="margin-top:2px;margin-right: 5px;opacity: 0;" type="checkbox" id="checkbox-0-924"></div>
                    
                <input type="hidden" value="" id="line-0-924">
                <input type="hidden" value="883" id="subitem-0-924">
    
                <div class="calc-cell"  style="width: 15%;">
					<input type="text" style="width:100%;" class="quantity" name="price-0-924" id="price-0-924" readonly /><br />
                    </div>
    
                <div class="supercell calc-cell " style="width: 25%;">
                    <input  style="width: 100%;display: none;" type="text" class="price" name="ppunit-0-924" id="ppunit-0-924" value="230.00" onkeyup="calculateLine(0,924);">
                                    <input value="200-250 &euro;/cm" style="width: 120%;" readonly>
                  
                  
                    <input style="width:auto !important;" type="hidden" id="unit-0-924" value="lm" />
                </div>
                
                <div class="d calc-cell" style="margin-right: 15px;">
					<input type="text" placeholder="cm" class="quantity" inputmode="decimal" name="amount-0-924" id="amount-0-924" onkeyup="calculateLine(0,924);" style="width: 80%;"><br />
                </div>
    
    
    
    
            </div>
        </div>
        </div>
        </div>
        <div class="container">
            <div class="row-alltogether">
                <div style="float: left;width: 100%;margin-left: 5%;">
                <b style="float: left;">TOTAL:</b>
                <input style="width: 50%;text-align: right;float: right;right: 15%;" class="calculatorbuttonsend quantity fullstrechmobile" type="text" name="fullprice" id="fullprice" readonly />
                </div>
        </div>
            
            
        
        
    </div>
    
    </div>
</div>



<script type="text/javascript">

	function addProjectAmount(projectId, groupId, num) {
	var	projectAmount = document.getElementById('projectAmount'+projectId).value;
	var	projectUnit = document.getElementById('projectUnit'+projectId).value;
	var	itemAmountMultiplier = document.getElementById('multiplier-'+projectId+'-'+num).value;
	var	itemAmountMultiplierType = document.getElementById('multiplier_type-'+projectId+'-'+num).value;
	var ppunit = document.getElementById('ppunit-'+projectId+'-'+num);
	var itemunit = document.getElementById('unit-'+projectId+'-'+num).value;
	var amount = document.getElementById('amount-'+projectId+'-'+num);
	var price = document.getElementById('price-'+projectId+'-'+num);
	var subitem = document.getElementById('subitem-'+projectId+'-'+num).value;
	var isSelected = document.getElementById('checkbox-'+projectId+'-'+num).checked;

	if(isSelected) 
	{
		if (projectAmount>0)
		{
			if (projectAmount==1) 
			{
				showProjectInput(projectId);
			}
			if (projectId>0 && num>0)
			{
				if(itemAmountMultiplierType=="*")
				{
					if((itemunit=="m1" || itemunit=="m") && projectUnit=="m2")
						amount.value=Math.round(Math.sqrt(projectAmount)*4*itemAmountMultiplier) + '\u20AC';
					else
						amount.value=Math.round(projectAmount*itemAmountMultiplier) + '\u20AC';
				}
				else if(itemAmountMultiplierType=="=") 
				{
					amount.value=itemAmountMultiplier;
				}
				//document.getElementById('checkbox-'+projectId+'-'+num).checked=true;
				calculateLine(projectId,num);
				//clear all other items in a group
				//$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings().find(":input[name^='amount']").val("");
				//$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings().find(":input[name^='price']").val("");
				//$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings().find(":input[type='checkbox']").prop('checked', false);

				//recaultulate the whole
				calculateProjectRecap(projectId);
				$('#groupOption-'+groupId+'-'+projectId+'-'+num).children('.calculatorProjectDetails').show();
				$('#groupOption-'+groupId+'-'+projectId+'-'+num).children('.subItemsGroup').show();
				$('#groupOption-'+groupId+'-'+projectId+'-'+num).parents().siblings('.CalclulatorQuestionTip').hide();
				//$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings().children('.calculatorProjectDetails').hide();
			}
			else
			{
				alert('Error');
			}
		}
		else 
			{
				alert('Bitte zuerst die Menge/Fläche angeben!');
				showProjectInput(projectId);
				document.getElementById('checkbox-'+projectId+'-'+num).checked=false;
				//document.getElementById('option-'+projectId+'-'+num).checked=false;
			}
		}
		else
		{
			//uncheck
			//document.getElementById('checkbox-'+projectId+'-'+num).checked=false;
			//document.getElementById('option-'+projectId+'-'+num).checked=false;
			amount.value="";
			
			//check if nay siblings are checked
			var minimumSelect=false;
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings('.subItemsGroup').each(function(e){
     			if($(this).find(":input[type='checkbox']").prop('checked')) {
     				minimumSelect=true;
     			}
    		});

    		//reset main task to 0 if there is no subtasks selected
    		if(minimumSelect===false) {
				$('#groupOption-'+groupId+'-'+projectId+'-'+num).siblings('.calculatorProjectLine').find(":input[type='checkbox']").prop('checked', false);
    		}

			$('#groupOption-'+groupId+'-'+projectId+'-'+num).children('.calculatorProjectDetails').hide();
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).children('.subItemsGroup').hide();
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).parents().siblings('.CalclulatorQuestionTip').show();
			calculateLine(projectId,num);
			

			//clear all other subitems in a group
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).children().find(":input[type='checkbox']").prop('checked', false);
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).find("[id*='amount']").val(0);
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).find("[id*='price']").val(0);
			$('#groupOption-'+groupId+'-'+projectId+'-'+num).find('.calculatorProjectDetails').hide();
			
			calculateProjectRecap(projectId);
		}

 	}

 	function showProjectInput(projectId) {
 		$('#project-'+projectId).find('.detailCalculator').show();
		$('#project-'+projectId).find('.detailCalculatorHide').hide();
		document.getElementById('projectAmount'+projectId).style.border="1px solid red";
		document.getElementById('projectAmount'+projectId).focus();
	}

 	function updateProjectAmount(projectId) {
	var	projectAmount = document.getElementById('projectAmount'+projectId).value;
	if(projectAmount>0)
		document.getElementById('projectAmount'+projectId).style.border="1px solid silver";

	if (projectId>0 && projectAmount>0) {
		var $eles = $("#project-"+projectId+" input[name^='amount']");
		var DOMeles = $eles.get();
		var eli=0;
			for (var i=0; i < DOMeles.length; i++)
			{
				var amount = DOMeles[i].value;
				if (amount != "" && amount>0) 
				{	
				    eli++;
				    num = DOMeles[i].id.split('-')[2].match(/\d+/g).map(Number);
				    var	itemAmountMultiplier = document.getElementById('multiplier-'+projectId+'-'+num).value;
				    var	itemAmountMultiplierType = document.getElementById('multiplier_type-'+projectId+'-'+num).value;
				    if(itemAmountMultiplierType=="*")
				    	DOMeles[i].value = Math.round(projectAmount*itemAmountMultiplier);
				    else if(itemAmountMultiplierType=="=")
				    	DOMeles[i].value = itemAmountMultiplier;
				    calculateLine(projectId,num);
				}
			}
			//recalculate project price
			if(eli>0)
				calculateProjectRecap(projectId);
		}

 	}

	function calculateLine(projectId,num) {
	var ppunit = document.getElementById('ppunit-'+projectId+'-'+num);
	var amount = document.getElementById('amount-'+projectId+'-'+num);
	var price = document.getElementById('price-'+projectId+'-'+num);
	var subitem = document.getElementById('subitem-'+projectId+'-'+num).value;
	$('#itemrow-'+projectId+'-'+num).find('.blue-button').show();
	$('#search-'+projectId+'-'+num).parents('div').siblings('.blue-button').show();
	if (!(ppunit.value == "" || amount.value == ""))
	{
		if (!isNaN(amount.value) && !isNaN(ppunit.value))
		{
			price.value=Math.round(parseFloat(ppunit.value)*parseFloat(amount.value)) + ' \u20AC';
			document.getElementById('checkbox-'+projectId+'-'+num).checked=true;
			if(subitem>0) {
				document.getElementById('checkbox-'+projectId+'-'+subitem).checked=true;
				document.getElementById('amount-'+projectId+'-'+subitem).value=0;
				document.getElementById('price-'+projectId+'-'+subitem).value=0;
				}
			calculateRecap();
			if(projectId>0)
				calculateProjectRecap(projectId);

		}
		else
		{
			price.value = "";
			document.getElementById('checkbox-'+projectId+'-'+num).checked=false;
			if(subitem>0) 
				document.getElementById('checkbox-'+projectId+'-'+subitem).checked=false;
		}
	}
	else 
		{
			price.value = "";
			document.getElementById('checkbox-'+projectId+'-'+num).checked=false;
			if(subitem>0) 
				//document.getElementById('checkbox-'+projectId+'-'+subitem).checked=false; ZAKAJ JE TO TAKO?
			calculateRecap();
			if(projectId>0)
				calculateProjectRecap(projectId);
		}
 	}
 
 
  function calculateProjectRecap(projectId)
 {
	var	projectAmount = document.getElementById('projectAmount'+projectId).value;
	var totalPrice = 0;
	var $eles = $("#project-"+projectId+" input[name^='price']");
	var DOMeles = $eles.get();
	for (var i=0; i < DOMeles.length; i++)
	{
		var price = DOMeles[i].value;
		if (price != "")
			totalPrice += parseFloat(price);
	}
	 
	if(totalPrice<1000)
		rounding=10;
	else if(totalPrice>=1000 && totalPrice<10000)
		rounding=100;
	else if(totalPrice>=10000)
		rounding=1000;
	document.getElementById('fullprice-'+projectId).value = "von " + numberWithCommas(Math.round(totalPrice*0.9/rounding)*rounding) + " bis " + numberWithCommas(Math.round(totalPrice*1.15/rounding)*rounding+" "+'ee');

 }

 //format to 10004
 function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}
 
 function calculateRecap()
 {
	
	 var totalPrice = 0;
	
	var $eles = $(":input[name^='price']");
	var DOMeles = $eles.get();
	for (var i=0; i < DOMeles.length; i++)
	{
		var price = DOMeles[i].value;
		if (price != "")
			totalPrice += parseFloat(price);
	}
	 
	 if (totalPrice<1000) {
	 	document.getElementById('fullprice').value = Math.round(totalPrice) + ' \u20AC';
	 	}
	 	else if(totalPrice<3000&&totalPrice>=1000) {
	 	document.getElementById('fullprice').value = Math.round(totalPrice*0.9/100)*100 + '-' + Math.round(totalPrice*1.1/100)*100 + ' \u20AC';
	 	} 
	 	else {
	 	document.getElementById('fullprice').value = Math.round(totalPrice*0.85/100)*100 + '-' + Math.round(totalPrice*1.15/100)*100 + ' \u20AC';
	 	}
 }
 
 
 function postInquiry(projectId)
 {
	var proceed=true;
	var $eles = $(":input[name^='price-"+projectId+"']");

	var DOMeles = $eles.get();
	var numclicked = 0;
	var data = [];
	for (var i=0; i < DOMeles.length; i++)
	{
		var price = DOMeles[i].value;
		var id = DOMeles[i].name.split('-')[2].match(/\d+/g).map(Number);

		if (price != "" && document.getElementById('checkbox-'+projectId+'-'+id).checked)
		{
			var amount = document.getElementById('amount-'+projectId+'-'+id).value;
			var search = document.getElementById('search-'+projectId+'-'+id).value;

			data.push(id+";"+amount);
			numclicked++;
		}
		else if(price=="" && document.getElementById('checkbox-'+projectId+'-'+id).checked)
		{
			proceed = false;
			numclicked++;
		}
	}

	if(numclicked==0) 
	{
		var search = document.getElementById("currentCategory").value;
		/*
		var r = confirm("Sie haben noch keinen Eintrag gemacht. Möchten Sie trotzdem fortfahren?");
		 if(r!=true)
		 {
			proceed=false;
		 }
		 */
		 proceed=true;
	}

	var form = document.createElement("form");
	var element2 = document.createElement("input");	
	var element3 = document.createElement("input");
	var inventoryPrice = document.createElement("input");

    form.method = "POST";
    form.action = "https://www.daibau.at/nachfrage_form";   

	element2.name="mainCategory";
	element2.value=search;
	element3.name = "data_array";


	if (window.btoa) {
    	dataEncoded = btoa(data);
	} else { //for <= IE9
		dataEncoded = Base64.encode(data.toString());
	}

	element3.value = dataEncoded;
	inventoryPrice.name = "inventoryPrice";
	inventoryPrice.value = document.getElementById("fullprice").value;
	
	form.appendChild(element2);
	form.appendChild(element3);
	form.appendChild(inventoryPrice);

    document.body.appendChild(form);
    
    if(proceed)
    	form.submit();
    else
    	alert("Geben Sie die Richtmenge für die Dienstleistung ein, an der Sie interessiert sind.");
	 
 }


 function postLoan()
 {
	var proceed=false;

	if(document.getElementById('cityId').value>0)
		proceed=true;


	var form = document.createElement("form");
	var element2 = document.createElement("input");	
	var element3 = document.createElement("input");
	var element4 = document.createElement("input");
	var element5 = document.createElement("input");
	var element6 = document.createElement("input");
	var element7 = document.createElement("input");
	var element8 = document.createElement("input");
	var element9 = document.createElement("input");
	var element10 = document.createElement("input");

    form.method = "POST";
    form.action = "https://www.daibau.at/nachfrage_form";   

	element2.name="mainCategory";
	element2.value=227;
	element3.name = "loan_data_array";
	element4.name = "title";
	element5.name = "inQuantity";
	element6.name = "ntime";
	element7.name = "inquiryText";
	element8.name = "city";
	element9.name = "cityId";
	element10.name = "targetStep";

	var data = $('#loanData').serialize();

	element3.value = data;
	element4.value = 'Stanovanjski kredit';
	element5.value = document.getElementById('as').value+' eur';

	var timing = $('input[name="ntime"]:checked').val();
	if(timing=="Takoj") timing='Nujno takoj';
	if(timing=="1 mesec") timing='do 1 meseca';
	if(timing=="6 mesecev") timing='Več kot 6 mesecev';
	element6.value = timing;

	element7.value = 'Spoštovani, prosimo za ponudbo za kredit v višini '+element5.value+', ki bi ga potrebovali v roku: '+timing+'. Najlepša hvala in lep pozdrav.';

	element8.value = document.getElementById('postnumber2').value;
	element9.value = document.getElementById('cityId').value;
	element10.value = 'contacts';
	
	form.appendChild(element2);
	form.appendChild(element3);
	form.appendChild(element4);
	form.appendChild(element5);
	form.appendChild(element6);
	form.appendChild(element7);
	form.appendChild(element8);
	form.appendChild(element9);
	form.appendChild(element10);

    document.body.appendChild(form);
    
    if(proceed)
    	form.submit();
    else {
    	alert("Geben Sie Ihre Postleitzahl ein und wählen Sie einen Ort aus der Liste.");
    	document.getElementById('postnumber2').style.borderColor = 'red';
    	$('#postnumber2').focus();
    }
	 
 }
  
 </script>
 




<div class="popup3" id="login-drop"></div>

<div id="start-craftsman" onclick="HidePopup();return false;"></div></body>
</html>